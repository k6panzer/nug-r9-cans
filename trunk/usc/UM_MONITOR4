start UM_MONITOR4()
 %version 1.0.001 10/03/2013
 ansa_sl    is x
 cans35_sl  is x
 cans617_sl is x

 ansa_sl    = "ANSAP"
 cans35_sl  = "CANS35P"
 cans617_sl = "CANS617P"

 $looplimit = 0
 rc              is i
 CID             is x 
 c.ansa.rec      is h
 c.ansa.compd    is d
 c.cans.rec      is h
 c.cans.compd    is d
 c.cans.canstype is x

 rc = $dbstart(02, CID, "I")
 do while rc < 3
  rc = $dbreadnext(02,CID,c.ansa.rec, c.ansa.compd,c.cans.rec,c.cans.compd,c.cans.canstype)
  if c.cans.rec dp
   if c.cans.compd !dp
    select c.cans.canstype
     case "1" {"lib_UACOMMON"}AddUMMonitor(CID,"CANS617")
	 case "2" {"lib_UACOMMON"}AddUMMonitor(CID,"CANS35")
    endselect   
   else
    select c.cans.canstype
     case "1" {"lib_UACOMMON"}RemUMMonitor(CID,"CANS617")
	 case "2" {"lib_UACOMMON"}RemUMMonitor(CID,"CANS35")
    endselect
   endif	
  endif
  if c.ansa.rec dp
   if c.ansa.compd !dp
   {"lib_UACOMMON"}AddUMMonitor(CID,"ANSA")
   else
    {"lib_UACOMMON"}RemUMMonitor(CID,"ANSA")
   endif   
  endif
 enddo  
end UM_MONITOR4
